const t=window.App.h;class e{constructor(){this.numGeneric=10,this.numWeapons=3,this.totalWeight=0}render(){let e=[],n=[];for(let t=0;t<this.numWeapons;t++)n.push("");for(let n=0;n<this.numGeneric;n++)e.push(t("rpg-equipment-generic",null));return t("div",{class:"equipment-box"},n.map(t=>t),e.map(t=>t))}static get is(){return"rpg-equipment-box"}static get properties(){return{el:{elementRef:!0},numGeneric:{type:Number,attr:"num-generic"},numWeapons:{type:Number,attr:"num-weapons"},totalWeight:{state:!0}}}static get style(){return"/**style-placeholder:rpg-equipment-box:**/"}}class n{constructor(){this.name="",this.startingCount=0,this.weight=0,this.currentWeight=0}useItem(){return this.currentCount=this.currentCount-1,this.currentCount<0?(this.currentCount=0,!1):(this.eventUsed(),!0)}componentWillLoad(){this.currentCount=this.startingCount,this.itemWeight=this.weight}componentDidLoad(){this.el.querySelector(".weight").addEventListener("rpg_text_changed",t=>this.playerChangedWeight(t)),this.el.querySelector(".quantity").addEventListener("rpg_text_changed",t=>this.playerChangedQuantity(t))}recalculateWeight(){this.currentWeight=this.currentCount*this.itemWeight,console.log(this.currentWeight),this.eventWeightChanged()}playerChangedWeight(t){this.itemWeight=parseInt(t.detail.newText),this.recalculateWeight()}playerChangedQuantity(t){this.currentCount=parseInt(t.detail.newText),this.recalculateWeight()}eventUsed(){const t=new CustomEvent("rpg_item_used",{detail:{name:this.name,remainingCount:this.currentCount}});this.el.dispatchEvent(t)}eventWeightChanged(){const t=new CustomEvent("rpg_item_weight_changed",{detail:{name:this.name,newWeight:this.currentWeight}});this.el.dispatchEvent(t)}render(){return t("div",{class:"equipment-line"},t("rpg-text-input",{"starting-text":this.name}),t("rpg-text-input",{class:"quantity","starting-text":this.currentCount}),t("rpg-text-input",{class:"weight","starting-text":this.currentWeight}),t("span",null,"(",this.currentWeight,")"))}static get is(){return"rpg-equipment-generic"}static get properties(){return{currentCount:{state:!0},currentWeight:{state:!0},el:{elementRef:!0},itemWeight:{state:!0},name:{type:String,attr:"name"},size:{type:String,attr:"size"},startingCount:{type:Number,attr:"starting-count"},useItem:{method:!0},weight:{type:Number,attr:"weight"}}}static get style(){return"/**style-placeholder:rpg-equipment-generic:**/"}}export{e as RpgEquipmentBox,n as RpgEquipmentGeneric};