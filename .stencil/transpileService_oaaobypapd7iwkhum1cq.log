{"moduleFile":{"sourceFilePath":"/home/ec2-user/environment/rpg-webcomponents/src/components/character-sheet/character-skill/character-skill.tsx","localImports":[],"externalImports":["@stencil/core"],"potentialCmpRefs":[],"cmpMeta":{"tagNameMeta":"character-skill","stylesMeta":{"$":{"externalStyles":[{"absolutePath":"/home/ec2-user/environment/rpg-webcomponents/src/components/character-sheet/character-skill/character-skill.scss","cmpRelativePath":"character-skill.scss","originalComponentPath":"character-skill.scss"}]}},"assetsDirsMeta":[],"hostMeta":{},"dependencies":[],"jsdoc":{"name":"CharacterSkill","tags":[],"documentation":"","type":"typeof CharacterSkill"},"encapsulationMeta":0,"componentClass":"CharacterSkill","membersMeta":{"el":{"memberType":64},"isProficient":{"memberType":16},"currentBonus":{"memberType":16},"proficient":{"memberType":1,"attribName":"proficient","attribType":{"text":"boolean","required":false,"optional":false,"typeReferences":{}},"reflectToAttrib":false,"propType":4,"jsdoc":{"name":"proficient","tags":[],"documentation":"","type":"boolean"}},"proficiencyBonus":{"memberType":1,"attribName":"proficiency-bonus","attribType":{"text":"number","required":false,"optional":false,"typeReferences":{}},"reflectToAttrib":false,"propType":8,"jsdoc":{"name":"proficiencyBonus","tags":[],"documentation":"","type":"number","default":"2"}},"name":{"memberType":1,"attribName":"name","attribType":{"text":"string","required":false,"optional":false,"typeReferences":{}},"reflectToAttrib":false,"propType":2,"jsdoc":{"name":"name","tags":[],"documentation":"","type":"string"}},"ranks":{"memberType":1,"attribName":"ranks","attribType":{"text":"number","required":false,"optional":false,"typeReferences":{}},"reflectToAttrib":false,"propType":8,"jsdoc":{"name":"ranks","tags":[],"documentation":"","type":"number","default":"0"}},"bonus":{"memberType":1,"attribName":"bonus","attribType":{"text":"number","required":false,"optional":false,"typeReferences":{}},"reflectToAttrib":false,"propType":8,"jsdoc":{"name":"bonus","tags":[],"documentation":"","type":"number","default":"0"}},"attributeBonus":{"memberType":1,"attribName":"attribute-bonus","attribType":{"text":"number","required":false,"optional":false,"typeReferences":{}},"reflectToAttrib":false,"propType":8,"jsdoc":{"name":"attributeBonus","tags":[],"documentation":"","type":"number","default":"0"}}},"eventsMeta":[],"listenersMeta":[{"eventName":"setRanks","eventMethodName":"setRanks","eventCapture":false,"eventPassive":false,"eventDisabled":false,"jsdoc":{"name":"setRanks","tags":[],"documentation":"","type":"(event: CustomEvent<any>) => void"}},{"eventName":"setAttributeBonus","eventMethodName":"setAttributeBonus","eventCapture":false,"eventPassive":false,"eventDisabled":false,"jsdoc":{"name":"setAttributeBonus","tags":[],"documentation":"","type":"(event: CustomEvent<any>) => void"}},{"eventName":"setBonus","eventMethodName":"setBonus","eventCapture":false,"eventPassive":false,"eventDisabled":false,"jsdoc":{"name":"setBonus","tags":[],"documentation":"","type":"(event: CustomEvent<any>) => void"}}]},"hasSlot":false,"hasSvg":false,"jsFilePath":"/home/ec2-user/environment/rpg-webcomponents/src/components/character-sheet/character-skill/character-skill.js"},"jsText":"export class CharacterSkill {\r\n    constructor() {\r\n        this.proficiencyBonus = 2;\r\n        this.ranks = 0;\r\n        this.bonus = 0;\r\n        this.attributeBonus = 0;\r\n        this.currentBonus = 0;\r\n    }\r\n    componentWillLoad() {\r\n        this.isProficient = this.proficient;\r\n    }\r\n    componentDidLoad() {\r\n        this.renderProficiency();\r\n        this.recalculateCurrentBonus();\r\n    }\r\n    setRanks(event) {\r\n        this.ranks = event.detail;\r\n        this.recalculateCurrentBonus();\r\n    }\r\n    setAttributeBonus(event) {\r\n        this.attributeBonus = event.detail;\r\n        this.recalculateCurrentBonus();\r\n    }\r\n    setBonus(event) {\r\n        this.bonus = event.detail;\r\n        this.recalculateCurrentBonus();\r\n    }\r\n    toggleProficient() {\r\n        this.isProficient = !this.isProficient;\r\n        console.log(this.isProficient);\r\n        this.renderProficiency();\r\n        this.recalculateCurrentBonus();\r\n    }\r\n    recalculateCurrentBonus() {\r\n        let bonus = this.bonus + this.attributeBonus + this.ranks;\r\n        if (this.proficient) {\r\n            bonus += this.proficiencyBonus;\r\n        }\r\n        this.currentBonus = bonus;\r\n    }\r\n    renderProficiency() {\r\n        let span = this.el.querySelector('#isProficient');\r\n        if (!span) {\r\n            return;\r\n        }\r\n        if (this.isProficient) {\r\n            span.classList.add('proficient');\r\n        }\r\n        else {\r\n            span.classList.remove('proficient');\r\n        }\r\n    }\r\n    render() {\r\n        return (h(\"div\", null,\r\n            h(\"div\", { class: \"is-proficient\" },\r\n                h(\"span\", { id: \"isProficient\", onClick: () => this.toggleProficient() })),\r\n            h(\"div\", { class: \"current-bonus\" }, this.currentBonus),\r\n            h(\"div\", { class: \"name\" }, this.name)));\r\n    }\r\n    static get is() { return \"character-skill\"; }\r\n    static get properties() { return {\r\n        \"attributeBonus\": {\r\n            \"type\": Number,\r\n            \"attr\": \"attribute-bonus\"\r\n        },\r\n        \"bonus\": {\r\n            \"type\": Number,\r\n            \"attr\": \"bonus\"\r\n        },\r\n        \"currentBonus\": {\r\n            \"state\": true\r\n        },\r\n        \"el\": {\r\n            \"elementRef\": true\r\n        },\r\n        \"isProficient\": {\r\n            \"state\": true\r\n        },\r\n        \"name\": {\r\n            \"type\": String,\r\n            \"attr\": \"name\"\r\n        },\r\n        \"proficiencyBonus\": {\r\n            \"type\": Number,\r\n            \"attr\": \"proficiency-bonus\"\r\n        },\r\n        \"proficient\": {\r\n            \"type\": Boolean,\r\n            \"attr\": \"proficient\"\r\n        },\r\n        \"ranks\": {\r\n            \"type\": Number,\r\n            \"attr\": \"ranks\"\r\n        }\r\n    }; }\r\n    static get listeners() { return [{\r\n            \"name\": \"setRanks\",\r\n            \"method\": \"setRanks\"\r\n        }, {\r\n            \"name\": \"setAttributeBonus\",\r\n            \"method\": \"setAttributeBonus\"\r\n        }, {\r\n            \"name\": \"setBonus\",\r\n            \"method\": \"setBonus\"\r\n        }]; }\r\n    static get style() { return \"/**style-placeholder:character-skill:**/\"; }\r\n}\r\n"}